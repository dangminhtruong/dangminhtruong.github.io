{"version":3,"sources":["state/configureStore/configureStore.prod.js","state/rootSaga.js","utils/loadable-component/loadable-component.js","index.js","state/rootReducer.js","utils/axios.js","state/modules/Home.js","state/configureStore/index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","configureStore","redux__WEBPACK_IMPORTED_MODULE_0__","redux_saga__WEBPACK_IMPORTED_MODULE_1__","immutable__WEBPACK_IMPORTED_MODULE_2__","sagaMiddleware","createSagaMiddleware","initialState","arguments","length","undefined","rootReducer","middlewares","enhancers","applyMiddleware","apply","store","createStore","fromJS","compose","runSaga","run","close","dispatch","END","rootSaga","regenerator_default","a","wrap","_context","prev","next","all","fork","homeSagas","stop","_marked","Loading","react_default","createElement","className","viewBox","id","textAnchor","x","y","xlinkHref","LoadableComponent","func","Component","lazy","props","react","fallback","Home","Promise","e","then","bind","asyncReducers","combineReducers","_objectSpread","ReactDOM","render","es","src_Home","document","getElementById","instance","axios","create","baseURL","handleFetchData","handleLoadStargazers","handleLoadMore","PER_PAGE","FETCH_REPOSITORIES","LOAD_MORE_REPOSITORIES","LOAD_STARTGAZERS","fetchData","createAction","payload","fetchDataSuccessed","loadMore","loadMoreSuccessed","setLoading","loadStargazers","loadStargazersSuccessed","initialData","repositories","total","currentPage","lastPage","loading","username","selectData","handleActions","_handleActions","Object","defineProperty","state","action","_action$payload","response","headers","link","split","match","merge","data","setIn","_action$payload2","updateIn","list","repos","findIndex","item","get","repoId","toJS","stargazers","takeLatest","_context2","put","call","execFetchDataApi","sent","execFetchTotalReposApi","t0","message","error","finish","_marked2","_ref","_context3","execLoadStargazersaApi","_marked3","_context4","_marked4","_ref2","page","concat","catch","console","log","_ref3","url","_ref4","module","exports","require"],"mappings":"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","file":"static/js/main.a80b3a63.chunk.js","sourcesContent":["\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware, { END } from 'redux-saga';\nimport { fromJS } from 'immutable';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default function configureStore(initialState = {}, rootReducer) {\n    const middlewares = [\n        sagaMiddleware\n    ];\n\n    const enhancers = [\n        applyMiddleware(...middlewares)\n    ];\n\n    const store = createStore(\n        rootReducer(),\n        fromJS(initialState),\n        compose(...enhancers)\n    );\n\n    store.runSaga = sagaMiddleware.run;\n    store.close = () => store.dispatch(END);\n\n    return store;\n}\n","import { all, fork } from 'redux-saga/effects';\nimport { homeSagas } from './modules/Home';\n\nexport default function* rootSaga() {\n    yield all([\n        fork(homeSagas),\n    ]);\n}","import React, { lazy, Suspense } from 'react';\n\nimport './loadable-component.scss';\n\nexport const Loading = (\n    <div className='animation-container'>\n        <svg viewBox='0 205 600 600'>\n            <symbol id='text'>\n                <text textAnchor='middle' x='50%' y='50%'>Kuzen.io</text>\n            </symbol>\n            <use xlinkHref='#text' className='text' />\n            <use xlinkHref='#text' className='text' />\n            <use xlinkHref='#text' className='text' />\n            <use xlinkHref='#text' className='text' />\n        </svg>\n    </div>\n);\n\nconst LoadableComponent = (func) => {\n    const Component = lazy(func);\n\n    return props => (\n        <Suspense fallback={Loading}>\n            <Component {...props} />\n        </Suspense>\n    );\n};\n\nexport default LoadableComponent;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './state/configureStore';\nimport rootSaga from './state/rootSaga';\nimport rootReducer from './state/rootReducer';\nimport LoadableComponent from './utils/loadable-component';\nimport 'antd/dist/antd.css';\n\nconst Home = LoadableComponent(() => import('./pages/Home/Home'));\n\nif (module.hot) {\n    module.hot.accept();\n}\n\nconst initialState = {};\nconst store = configureStore(initialState, rootReducer);\nstore.runSaga(rootSaga);\n\nconst Root = () => (\n    <Provider store={store}>\n        <Home />\n    </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));","import { combineReducers } from 'redux-immutable';\nimport Home from './modules/Home';\n\n/**\n * Creates the root reducer with the asynchronously loaded ones\n */\n\nexport default function rootReducer(asyncReducers) {\n    return combineReducers({\n        Home,\n        ...asyncReducers\n    });\n}\n","import axios from 'axios';\n\nconst instance = axios.create({\n\tbaseURL: 'https://api.github.com',\n});\n\nexport default instance;","import { fromJS } from 'immutable'\nimport {put, call, takeLatest, all} from 'redux-saga/effects'\nimport { createAction, handleActions } from 'redux-actions'\nimport axios from '../../utils/axios'\nimport { message } from 'antd'\n\nconst PER_PAGE = 30\n\n// Actions\n\nexport const FETCH_REPOSITORIES = 'FETCH_REPOSITORIES'\nexport const FETCH_REPOSITORIES_SUCCESSED = 'FETCH_REPOSITORIES_SUCCESSED'\nexport const LOAD_MORE_REPOSITORIES = 'LOAD_MORE_REPOSITORIES'\nexport const LOAD_MORE_REPOSITORIES_SUCCESSED = 'LOAD_MORE_REPOSITORIES_SUCCESSED'\nexport const SET_LOADING = 'SET_LOADING'\nexport const LOAD_STARTGAZERS = 'LOAD_STARTGAZERS'\nexport const LOAD_STARTGAZERS_SUCESSED = 'LOAD_STARTGAZERS_SUCESSED'\n\n// Action Creators\n\nexport const fetchData = createAction(FETCH_REPOSITORIES, payload => payload)\nexport const fetchDataSuccessed = createAction(FETCH_REPOSITORIES_SUCCESSED, payload => payload)\nexport const loadMore = createAction(LOAD_MORE_REPOSITORIES, payload => payload)\nexport const loadMoreSuccessed = createAction(LOAD_MORE_REPOSITORIES_SUCCESSED, payload => payload)\nexport const setLoading = createAction(SET_LOADING, payload => payload)\nexport const loadStargazers = createAction(LOAD_STARTGAZERS, payload => payload)\nexport const loadStargazersSuccessed = createAction(LOAD_STARTGAZERS_SUCESSED, payload => payload)\n\n// Reducer\n\nconst initialData = fromJS({\n    repositories: [],\n    total: 0,\n    currentPage: 0,\n    lastPage: 0,\n    loading: true,\n    username: ''\n});\n\nconst mergeData = (state, action) => {\n    const {response, total, username} = action.payload\n    let lastPage = 1, currentPage = 1\n    \n    if(response.headers.link){\n        const link = response.headers.link.split(',')[1]\n        lastPage = link.match(/page=([^&]*)/)[1]\n        currentPage = response.headers.link.match(/page=([^&]*)/)[1] - 1\n    }\n\n    return state.merge(fromJS({\n        currentPage,\n        repositories: response.data,\n        lastPage,\n        total: total\n    })).setIn(['username'], username)\n};\n\nconst updateLoading = (state, action) => state.setIn(['loading'], action.payload)\n\nconst updateMoreData = (state, action) => {\n    const {repositories, currentPage} = action.payload\n    return state.updateIn(['repositories'], list => list.merge(repositories)).setIn(['currentPage'], currentPage)\n                \n}\n\nconst updateStargazers = (state, action) => {\n    return state.updateIn(['repositories'], repos => {\n        let id = repos.findIndex(item => item.get('id') === action.payload.repoId)\n\n        if(repos.get(id).toJS().stargazers){\n            return repos.updateIn([id, 'stargazers'], item => item.merge(fromJS(action.payload.data)))\n        }\n\n        return repos.updateIn([id], item => item.merge(fromJS({'stargazers': action.payload.data})))\n    })\n}\n\nexport default handleActions({\n    [FETCH_REPOSITORIES_SUCCESSED] : mergeData,\n    [LOAD_MORE_REPOSITORIES_SUCCESSED]: updateMoreData,\n    [SET_LOADING]: updateLoading,\n    [LOAD_STARTGAZERS_SUCESSED]: updateStargazers\n}, initialData)\n\n// Selectors\n\nexport const selectData = state => state.get('Home', ['repositories', 'total', 'lastPage', 'currentPage', 'loading'])\n\n// Sagas\n\nexport function* homeSagas() {\n    yield all([\n        takeLatest(FETCH_REPOSITORIES, handleFetchData),\n        takeLatest(LOAD_MORE_REPOSITORIES, handleLoadMore),\n        takeLatest(LOAD_STARTGAZERS, handleLoadStargazers),\n    ]);\n}\n\nfunction* handleFetchData(action) {\n    try{\n        yield put(setLoading(true))\n        const response = yield call(execFetchDataApi, action.payload)\n        const total = yield call(execFetchTotalReposApi, action.payload)\n        yield put(fetchDataSuccessed({response, total, username: action.payload.username}));\n    }\n    catch(err){\n        message.error(`Oops, could not fetch user repositories!`)\n    }\n    finally{\n        yield put(setLoading(false))\n    }\n}\n\nfunction* handleLoadStargazers(action) {\n    try{\n        yield put(setLoading(true))\n        const {data} = yield call(execLoadStargazersaApi, action.payload)\n        yield put(loadStargazersSuccessed({data, repoId: action.payload.repoId}));\n    }\n    catch(err){\n        message.error(`Oops, could not fetch user repositories!`)\n    }\n    finally{\n        yield put(setLoading(false))\n    }\n}\n\nfunction* handleLoadMore(action) {\n    try{\n        yield put(setLoading(true))\n        const response = yield call(execFetchDataApi, action.payload);\n        yield put(loadMoreSuccessed({repositories: response.data, currentPage: action.payload}))\n    }\n    catch(err){\n        message.error(`Oops, could not fetch user repositories!`);\n    }\n    finally{\n        yield put(setLoading(false))\n    }\n}\n\n// Api\n\nexport function execFetchDataApi({username, page}) {\n    return axios.get(`users/${username}/repos?page=${page}&per_page=${PER_PAGE}`)\n        .then(response => response)\n        .catch(error => console.log(error))\n}\n\nexport function execLoadStargazersaApi({url}) {\n    return axios.get(url)\n        .then(response => response)\n        .catch(error => console.log(error))\n}\n\n\nexport function execFetchTotalReposApi({username}) {\n    return axios.get(`users/${username}/repos?page=1&per_page=1`)\n        .then(response => {\n            const link = response.headers.link.split(',')[1]\n            return link.match(/page=([^&]*)/)[1]\n        })\n        .catch(error => console.log(error))\n}\n\n","if (process.env.NODE_ENV === 'production') {\n    module.exports = require('./configureStore.prod');\n} else {\n    module.exports = require('./configureStore.dev');\n}"],"sourceRoot":""}